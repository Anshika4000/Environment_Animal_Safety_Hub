// Fog Harvesting Potential JS document.addEventListener('DOMContentLoaded',()=>{document.getElementById('evaluate-site').addEventListener('click',(e)=>{e.preventDefault();const location=document.getElementById('location').value.trim();const humidity=parseInt(document.getElementById('humidity').value);const wind=parseFloat(document.getElementById('wind').value);const elevation=parseInt(document.getElementById('elevation').value);const season=document.getElementById('season').value;if(!location || isNaN(humidity)|| isNaN(wind)|| isNaN(elevation))return;const potential=calculateFogPotential(humidity,wind,elevation,season);renderPotentialSummary(location,humidity,wind,elevation,season,potential);renderPotentialVisualization(potential.score);});function calculateFogPotential(humidity,wind,elevation,season){// Simple scoring: high humidity(>80),moderate wind(2-8 m/s),elevation(>500),best in spring/autumn let score=0;let advice=[];if(humidity > 80){score+=3;advice.push('High humidity is ideal for fog harvesting.');}else if(humidity > 60){score+=2;advice.push('Moderate humidity,fog harvesting possible.');}else{advice.push('Low humidity,fog harvesting less viable.');}if(wind >=2 && wind <=8){score+=3;advice.push('Optimal wind speed for fog collection.');}else if(wind > 8){score+=1;advice.push('High wind,may reduce fog collection efficiency.');}else{advice.push('Low wind,fog collection may be limited.');}if(elevation > 500){score+=2;advice.push('High elevation increases fog occurrence.');}else{advice.push('Low elevation,fog occurrence may be reduced.');}if(season==='spring' || season==='autumn'){score+=2;advice.push('Spring/Autumn are best for fog harvesting.');}else{advice.push('Summer/Winter may have less fog.');}let potentialLevel='Low';if(score >=6)potentialLevel='Moderate';if(score >=8)potentialLevel='High';return{score,potentialLevel,advice};}function renderPotentialSummary(location,humidity,wind,elevation,season,potential){const summaryDiv=document.getElementById('potential-summary');summaryDiv.innerHTML=`<strong>Location:</strong> ${location}<br> <strong>Humidity:</strong> ${humidity}%<br> <strong>Wind Speed:</strong> ${wind}m/s<br> <strong>Elevation:</strong> ${elevation}m<br> <strong>Season:</strong> ${season.charAt(0).toUpperCase()+season.slice(1)}<br> <hr> <strong>Fog Harvesting Potential:</strong> <span style="font-size:1.3em;color:#0288d1;">${potential.potentialLevel}</span><br> <ul>${potential.advice.map(a=> `<li>${a}</li>`).join('')}</ul>`;}function renderPotentialVisualization(score){const vizDiv=document.getElementById('potential-visualization');vizDiv.innerHTML='';// Simple potential bar visualization const bar=document.createElement('div');bar.style.width='320px';bar.style.height='32px';bar.style.background='#e1f5fe';bar.style.borderRadius='8px';bar.style.position='relative';const fill=document.createElement('div');fill.style.width=`${score * 40}px`;fill.style.height='32px';fill.style.background=score >=8 ? '#388e3c' : score >=6 ? '#fbc02d' : '#d32f2f';fill.style.borderRadius='8px';bar.appendChild(fill);const label=document.createElement('span');label.textContent=score >=8 ? 'High Potential' : score >=6 ? 'Moderate Potential' : 'Low Potential';label.style.position='absolute';label.style.left='120px';label.style.top='6px';label.style.fontWeight='bold';label.style.color='#0288d1';bar.appendChild(label);vizDiv.appendChild(bar);}});