// Community Green Project Map JS // Interactive map,project directory,and user contributions const projects=[{name: "Sunrise Community Garden",type: "Garden",location: "Maple St & 5th Ave",description: "A volunteer-run garden growing organic produce for the local food bank.",link: "https://example.com/sunrise-garden",lat: 40.7128,lng:-74.0060,contributions: [{user: "Sam",note: "Helped plant tomatoes."},{user: "Priya",note: "Donated compost."}]},{name: "Solar for Schools Initiative",type: "Solar",location: "Lincoln High School",description: "Solar panels installed to power classrooms and reduce emissions.",link: "https://example.com/solar-schools",lat: 40.7138,lng:-74.0050,contributions: [{user: "Alex",note: "Organized fundraising event."}]},{name: "Green Recycling Center",type: "Recycling",location: "Elm St Recycling Facility",description: "Drop-off center for paper,plastics,electronics,and hazardous waste.",link: "https://example.com/recycling-center",lat: 40.7148,lng:-74.0040,contributions: [{user: "Jordan",note: "Volunteered for electronics sorting."}]},// Add 20+more diverse projects for robust sample data... ];function renderProjectList(list){const container=document.getElementById('project-list');container.innerHTML='';if(list.length===0){container.innerHTML='<li>No projects found.</li>';return;}list.forEach((p,idx)=>{const li=document.createElement('li');li.className='project-card';li.innerHTML=` <strong>${p.name}</strong> <span class="project-type">(${p.type})</span><br> <span class="project-location">${p.location}</span><br> <button class="view-details-btn" data-idx="${idx}">View Details</button> `;container.appendChild(li);});}function filterProjects(){const search=document.getElementById('project-search').value.toLowerCase();let filtered=projects.filter(p=> p.name.toLowerCase().includes(search)|| p.type.toLowerCase().includes(search)|| p.location.toLowerCase().includes(search)|| p.description.toLowerCase().includes(search));renderProjectList(filtered);}document.getElementById('project-search').addEventListener('input',filterProjects);function renderProjectDetails(idx){const p=projects[idx];const details=document.getElementById('project-details');details.innerHTML=` <h3>${p.name}</h3> <p><strong>Type:</strong> ${p.type}</p> <p><strong>Location:</strong> ${p.location}</p> <p>${p.description}</p> ${p.link ? `<a href="${p.link}" target="_blank">Visit Website</a>` : ''}<h4>User Contributions</h4> <ul>${p.contributions.map(c=> `<li><strong>${c.user}</strong>: ${c.note}</li>`).join('')}</ul> <form id="contribution-form"> <input type="text" id="contrib-user" placeholder="Your name" required> <input type="text" id="contrib-note" placeholder="Contribution note" required> <button type="submit">Add Contribution</button> </form> `;document.getElementById('project-details-section').classList.remove('hidden');document.getElementById('close-details').onclick=()=>{document.getElementById('project-details-section').classList.add('hidden');};document.getElementById('contribution-form').onsubmit=function(e){e.preventDefault();const user=document.getElementById('contrib-user').value;const note=document.getElementById('contrib-note').value;p.contributions.unshift({user,note});renderProjectDetails(idx);};}document.addEventListener('click',function(e){if(e.target.classList.contains('view-details-btn')){const idx=parseInt(e.target.getAttribute('data-idx'));renderProjectDetails(idx);}});document.getElementById('contribute-form').addEventListener('submit',function(e){e.preventDefault();const name=document.getElementById('project-name').value;const type=document.getElementById('project-type').value;const location=document.getElementById('project-location').value;const description=document.getElementById('project-description').value;const link=document.getElementById('project-link').value;projects.unshift({name,type,location,description,link,lat: 40.7150+Math.random()* 0.01,lng:-74.0030-Math.random()* 0.01,contributions: []});renderProjectList(projects);this.reset();});// Simple map rendering(mockup)function renderMap(){const map=document.getElementById('map-container');map.innerHTML='';projects.forEach((p,idx)=>{const marker=document.createElement('div');marker.className='map-marker';marker.style.left=`${(p.lng+74.01)* 1000}px`;marker.style.top=`${(p.lat-40.71)* 1000}px`;marker.title=p.name;marker.onclick=()=> renderProjectDetails(idx);map.appendChild(marker);});}// Initial render renderProjectList(projects);renderMap();